<mat-form-field appearance="standard">
	<mat-label>Vyhledávání</mat-label>
	<input matInput #search (keyup)="onSearch(search.value)">
</mat-form-field>

<div class="mat-elevation-z4">
	<table mat-table [dataSource]="usersData" multiTemplateDataRows matSort>

		<ng-container matColumnDef="id">
			<th mat-header-cell *matHeaderCellDef mat-sort-header>ID</th>
			<td mat-cell *matCellDef="let row"> {{row.id}} </td>
		</ng-container>

		<ng-container matColumnDef="name">
			<th mat-header-cell *matHeaderCellDef mat-sort-header>Jméno</th>
			<td mat-cell *matCellDef="let row"> {{row.name}} </td>
		</ng-container>

		<ng-container matColumnDef="role">
			<th mat-header-cell *matHeaderCellDef mat-sort-header>Role</th>
			<td mat-cell *matCellDef="let row"> {{row.role}}</td>
		</ng-container>

		<ng-container matColumnDef="expandedDetail">
			<td mat-cell *matCellDef="let row" [attr.colspan]="displayedColumns.length">
				<div class="element-detail"
					[@detailExpand]="row == expandedRow ? 'expanded' : 'collapsed'"
				>
					<span>Kredit: {{ row.credit }} Kč</span>
					<button mat-raised-button color="accent">Upravit</button>
					<button mat-raised-button color="warn">Odstranit</button>
				</div>
			</td>
		</ng-container>


		<tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
		<tr mat-row
			*matRowDef="let row; columns: displayedColumns;"
			class="table-row"
			[class.expanded-row]="expandedRow === row"
			(click)="expandedRow = expandedRow === row ? null : row"
		></tr>
		<tr mat-row *matRowDef="let row; columns: ['expandedDetail']" class="detail-row"></tr>

		<!-- Row shown when there is no matching data. -->
		<tr class="mat-row" *matNoDataRow>
			<td class="mat-cell" colspan="4">No data matching the filter</td>
		</tr>
	</table>

	<mat-paginator [length]="usersTotal" [pageSizeOptions]="[5, 10, 25, 100]" aria-label="Select page of users"></mat-paginator>
</div>
