<div class="login-container">
	<mat-card appearance="outlined" class="login-card">
		<div class="app-logo">
			<img src="/assets/images/Cybertown_logo_FULL.png"/>
			<span class="app-logo__tag">Kredsys</span>
		</div>

		<mat-card-title class="login-title">Login</mat-card-title>
		<mat-card-content>
			<form [formGroup]="loginForm"
				(ngSubmit)="login()"
			>
				<mat-form-field>
					<mat-label>E-mail</mat-label>
					<input type="email"
						required
						matInput
						formControlName="username"
						#userName="matInput"
					>
					<mat-error>
						<app-error-message [control]="userName.ngControl" [errorMessages]="{email: 'Špatný formát e-mailu'}" />
					</mat-error>
				</mat-form-field>

				<mat-form-field>
					<mat-label>Heslo</mat-label>
					<input type="password"
						required
						matInput
						formControlName="password"
						#password="matInput"
					>
					<mat-error>
						<app-error-message [control]="password.ngControl" />
					</mat-error>
				</mat-form-field>

				<div class="mt-3">
					<button type="submit"
						color="primary"
						class="w-100"
						mat-raised-button
					>Přihlásit
					</button>
				</div>
			</form>
		</mat-card-content>
	</mat-card>
</div>


<div (click)="showAdminTools = !showAdminTools"
	[class.opacity-100]="showAdminTools"
	class="admin-tools"
>
	Admin tools

	@if(showAdminTools) {
		<button mat-raised-button
			(click)="emptyLocalStorage()"
		>
			Vymazat localstorage
		</button>
	}
</div>
